<?php
/**
 * Plugin Name: Chatbot Widget
 * Description: Embeds the React-based Chatbot widget into WordPress.
 * Version: 1.0
 * Author: Kevin Raj
 */

function chatbot_enqueue_scripts() {
    $plugin_url = plugin_dir_url(__FILE__);

    // Load CSS from Vite build
    wp_enqueue_style(
        'chatbot-style',
        $plugin_url . 'dist/assets/index.css',
        array(),
        '1.0'
    );

    // Load JS
    wp_enqueue_script(
        'chatbot-script',
        $plugin_url . 'dist/assets/index.js',
        array(),
        '1.0',
        true
    );
}
add_action('wp_enqueue_scripts', 'chatbot_enqueue_scripts');

// Shortcode for chatbot
function chatbot_widget_shortcode() {
    return '<div id="root"></div>'; // React mounts here
}
add_shortcode('chatbot_widget', 'chatbot_widget_shortcode');
